<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>NextGen - Alice Chatbot</title>

    <!-- Dialogflow Messenger Styles -->
    <link rel="stylesheet" href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css" />

    <!-- Custom Page Styles -->
    <style>
      body {
        background-color: #000;
        color: white;
        font-family: 'Segoe UI', sans-serif;
        text-align: center;
        margin: 0;
        padding: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
      }

      p {
        color: #ccc;
        font-size: 1.1rem;
      }

      df-messenger {
        z-index: 999;
        position: fixed;
        bottom: 16px;
        right: 16px;
        --df-messenger-font-color: #000;
        --df-messenger-font-family: 'Segoe UI', sans-serif;
        --df-messenger-chat-background: #f3f6fc;
        --df-messenger-message-user-background: #d3e3fd;
        --df-messenger-message-bot-background: #fff;
      }
    </style>
  </head>

  <body>
    <h1>Welcome to NextGenâ€™s Smart Assistant</h1>
    <p>Meet Alice â€” your intelligent project guide and support bot.</p>

    <!-- Inject Chatbot with Random Session ID -->
    <script>
      window.addEventListener('DOMContentLoaded', () => {
        const sessionId = Math.random().toString(36).substring(2);
    
        // Small delay ensures df-messenger.js is ready before injecting
        setTimeout(() => {
          const messenger = document.createElement('df-messenger');
          messenger.setAttribute('agent-id', '09844661-f51b-4342-8ee3-0edb56e00c91');
          messenger.setAttribute('project-id', 'nextgen-454401');
          messenger.setAttribute('location', 'us-central1');
          messenger.setAttribute('language-code', 'en');
          messenger.setAttribute('session-id', sessionId);
          messenger.setAttribute('intent', 'WELCOME');
          messenger.setAttribute('max-query-length', '-1');
    
          const bubble = document.createElement('df-messenger-chat-bubble');
          bubble.setAttribute('chat-title', 'Alice');
    
          messenger.appendChild(bubble);
          document.body.appendChild(messenger);
        }, 500); // ðŸ‘ˆ slight delay to prevent race condition
      });
    </script>
    

    <!-- Dialogflow Messenger Script -->
    <script src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js"></script>
  </body>
</html>
